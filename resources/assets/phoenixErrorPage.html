<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="format-detection" content="email=no" />
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0" />
	<title>Error</title>
	<style>
		@font-face {
			font-family: 'Open Sans';
			font-style: normal;
			font-weight: 600;
			src: local('Open Sans Semibold'), local('OpenSans-Semibold'), url(http://themes.googleusercontent.com/static/fonts/opensans/v6/MTP_ySUJH_bn48VBG8sNSnhCUOGz7vYGh680lGh-uXM.woff) format('woff');
		}

		@font-face {
			font-family: 'Open Sans';
			font-style: normal;
			font-weight: 400;
			src: local('Open Sans'), local('OpenSans'), url(http://themes.googleusercontent.com/static/fonts/opensans/v6/cJZKeOuBrn4kERxqtaUH3T8E0i7KZn-EPnyo3HZu7kw.woff) format('woff');
		}

		body {
			background: #fff;
			font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif;
			color: #222;
			font-weight: 400;
			font-size: 14px;
			padding: 0;
			margin: 0;
		}

		main section {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			text-align: center;
		}

		main section img {
			padding: 22px 20px;
			background: #daf9ff;
			border-radius: 50%;
			margin: 0 0 20px;
			width: 60px;
		}

		main section h1 {
			font-size: 18px;
			margin: 0;
		}

		main section p {
			margin: 5px 0 10px;
		}

		main section a {
			display: inline-block;
			background: #fff;
			border: 1px solid #dde5ed;
			color: #00bbfb;
			padding: 10px 50px;
			margin: 20px 0 0;
		}
	</style>
</head>

<body>
	<main>
		<section class="bodyContainer">
			<img
				src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTUuODYgMTM4LjI3Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzAwYjlmNTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPjAxPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTcwLjU3LDg3LjI3QTQ0LjQzLDQ0LjQzLDAsMCwxLDc4LDg2LjY0YTQ1LDQ1LDAsMCwxLDMwLjg2LDEyLjIxbDguNjctMTFBNTksNTksMCwwLDAsODQuNzksNzNaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTMzLjY2LDI0LjE4LDEyMy4yLDM0LjY0YTEwNy43NiwxMDcuNzYsMCwwLDEsMjQsMTUuMzdsOC42NS0xMUExMjEuODIsMTIxLjgyLDAsMCwwLDEzMy42NiwyNC4xOFoiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik05MC41LDI1LjM3bDEyLjIyLTEyLjIxQTEyMS4xMSwxMjEuMTEsMCwwLDAsMCwzOS4xMmw4LjY5LDExQTEwNi42NiwxMDYuNjYsMCwwLDEsOTAuNSwyNS4zN1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xOS42NCw2My45Mmw4LjcsMTFBNzUuODYsNzUuODYsMCwwLDEsNTYuNDksNTkuMzhsMTctMTdBODkuMiw4OS4yLDAsMCwwLDE5LjY0LDYzLjkyWiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTk4LjcsNTkuMTNhNzUuNTcsNzUuNTcsMCwwLDEsMjksMTUuNzhsOC42Ny0xMWE5MC4xMyw5MC4xMywwLDAsMC0yNi41Ni0xNS44MVoiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik02MC41NywxMTUuNTRBMTguMzIsMTguMzIsMCwwLDAsNjAsMTIwLjJhMTguMDYsMTguMDYsMCwxLDAsMzYuMTEsMCwxOC4zOSwxOC4zOSwwLDAsMC0uNTUtNC40MiwxOCwxOCwwLDAsMC0zNC45NC0uMjciLz48cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjIuNDMiIHk9IjUxLjA5IiB3aWR0aD0iMTUxIiBoZWlnaHQ9IjE1LjY3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTguODQgNzIuMzYpIHJvdGF0ZSgtNDUpIi8+PC9nPjwvZz48L3N2Zz4="
				alt="">
			<h1>Can't Connect</h1>
			<p id="content">Check your network and try again</p>
			<a id="refresh">Retry</a>
			<a id="close">Close</a>
		</section>
	</main>
	<script>
		/**
		 * Check Env
		 */
		var UA = window.navigator.userAgent;
		var device = {
			iOS: /iPhone|iPad|iPod/i.test(UA),
			Android: /Android/i.test(UA),
		}
		var isInContainer = UA.toLocaleLowerCase().indexOf('appcontainer') !== -1
		var showClose = false;

		ERROR_INFO = window.ERROR_INFO || {}

		var i18n = {
			'en_US': {
				'error.network': 'Check your network and try again.',
				'error.system': 'System is busy, please try again later.',
				'btn.refresh': 'Retry',
				'btn.close': 'Close',
				'title': 'Error'
			}
		}
		var locale = 'en_US';

		function ready(callback) {
			if (window.AlipayJSBridge) {
				callback && callback();
			} else {
				document.addEventListener('AlipayJSBridgeReady', callback, false);
			}
		}

		function setTitle(title) {
			title = title.trim();
			if (isInContainer) {
				ready(function () {
					window.AlipayJSBridge.call('setTitle', {
						title: title
					});
					if (device.iOS) {
						window.AlipayJSBridge.call('getStartupParams', {
							key: 'showTitleBar'
						}, function (e) {
							showClose = (e['showTitleBar'] === undefined || e['showTitleBar'] === null || e['showTitleBar'] === "") ? true : !e['showTitleBar']
						});
					}
					window.AlipayJSBridge.subscribe('back', function (e) {
						window.AlipayJSBridge.unsubscribe('back');
						if (window.history.length > 2) {
							window.history.go(-2);
						} else {
							window.AlipayJSBridge.call('popWindow');
						}
					});
				});
			} else {
				document.title = title
			}
		}
		setTitle(i18n[locale]['title']);

		var refresh = document.querySelector('#refresh');
		if (refresh) {
		    refresh.innerHTML = i18n[locale]['btn.refresh'];
			refresh.addEventListener('click', function () {
				//location.reload();
				if (window.navigator.onLine) {
				if (window.history.length <= 1) {
                window.location.reload()

				}
				else
				{
				history.back();
				}
				}
			});
		}

		var close = document.querySelector('#close');
		if (close) {
			if (isInContainer && showClose) {
				close.innerHTML = i18n[locale]['btn.close'];
				close.addEventListener('click', function () {
					ready(function () {
						window.AlipayJSBridge.unsubscribe('back');
						window.AlipayJSBridge.call('popWindow')
					})
				});
			} else {
				close.style.display = 'none';
			}
		}

		if (ERROR_INFO) {
			var errorType = '';
			switch (ERROR_INFO.type) {
				case 'network':
					errorType = 'error.network';
					break;
				case 'http':
					errorType = 'error.system';
					break;
				case 'ssl':
				default:
					errorType = 'error.system';
					break;
			}

			if (errorType !== '') {
				var content = document.querySelector('#content');
				if (content) {
					content.innerHTML = i18n[locale][errorType];
				}
			}
		}
	</script>
</body>

</html>